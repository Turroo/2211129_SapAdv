{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import'./RegisterPage.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const[user,setUser]=useState({first_name:'',last_name:'',email:'',password:'',birth_date:'',city:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setUser({...user,[e.target.name]:e.target.value});};const handleRegister=async e=>{e.preventDefault();try{// Registra l'utente\nawait axios.post(`${process.env.REACT_APP_AUTH_API_URL}/auth/register`,user);// Dopo la registrazione, reindirizza alla pagina di login\nnavigate('/');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'Registration failed');}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"SapienzaAdvisor Logo\",className:\"logo\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"first_name\",type:\"text\",value:user.first_name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"last_name\",type:\"text\",value:user.last_name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:user.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:user.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"birth_date\",children:\"Birthdate\"}),/*#__PURE__*/_jsx(\"input\",{name:\"birth_date\",type:\"date\",value:user.birth_date,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{name:\"city\",type:\"text\",value:user.city,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Login\"})]})]})});};export default RegisterPage;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","RegisterPage","user","setUser","first_name","last_name","email","password","birth_date","city","error","setError","navigate","handleChange","e","target","name","value","handleRegister","preventDefault","post","process","env","REACT_APP_AUTH_API_URL","err","_err$response","_err$response$data","response","data","detail","className","children","src","alt","onSubmit","htmlFor","type","onChange","required","to"],"sources":["C:/Users/feder/Desktop/2211129_SapAdv/frontend/src/components/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport './RegisterPage.scss';\r\n\r\nconst RegisterPage = () => {\r\n  const [user, setUser] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    password: '',\r\n    birth_date: '',\r\n    city: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Registra l'utente\r\n      await axios.post(`${process.env.REACT_APP_AUTH_API_URL}/auth/register`, user);\r\n      // Dopo la registrazione, reindirizza alla pagina di login\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || 'Registration failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-page\">\r\n      <div className=\"register-container\">\r\n        <img src=\"/logo.png\" alt=\"SapienzaAdvisor Logo\" className=\"logo\" />\r\n        {error && <div className=\"error\">{error}</div>}\r\n        <form onSubmit={handleRegister}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"first_name\">First Name</label>\r\n            <input name=\"first_name\" type=\"text\" value={user.first_name} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"last_name\">Last Name</label>\r\n            <input name=\"last_name\" type=\"text\" value={user.last_name} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input name=\"email\" type=\"email\" value={user.email} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input name=\"password\" type=\"password\" value={user.password} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"birth_date\">Birthdate</label>\r\n            <input name=\"birth_date\" type=\"date\" value={user.birth_date} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"city\">City</label>\r\n            <input name=\"city\" type=\"text\" value={user.city} onChange={handleChange} required />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn\">Register</button>\r\n        </form>\r\n        <p>Have an account? <Link to=\"/\">Login</Link></p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}